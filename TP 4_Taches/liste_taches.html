<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport">
    <title>Gestion de Tâches</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body {
            padding: 20px;
            background-color: #f5f5f5;
        }

        

        h1 {
            color: #333;
        }

        .filter-buttons {
            margin-bottom: 20px;
        }

        .filter-btn {
            padding: 10px 20px;
            margin-right: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background-color: #e0e0e0;
            color: black;
        }

        .filter-btn.active {
            background-color: #4CAF50;
            color: white;
        }

        .task-card {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
            background-color: white;
        }

        .task-card.completed {
            background-color: #f0f0f0;
        }

        .task-card h3 {
            margin-top: 0;
            color: #333;
        }

        .complete-btn {
            padding: 8px 15px;
            background-color: #3e0e98d1;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .complete-btn:hover {
            background-color: #290964dd;
        }

        .total-tasks {
            font-size: 18px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>Gestion de Tâches</h1>
        
        <p class="total-tasks"><strong>Nombre total de tâches : {{ totalTasks }}</strong></p>

        <div class="filter-buttons">
            <button 
                class="filter-btn" 
                :class="{ active: filter === 'all' }"
                @click="filter = 'all'"
            >
                Toutes
            </button>
            <button 
                class="filter-btn" 
                :class="{ active: filter === 'todo' }"
                @click="filter = 'todo'"
            >
                À faire
            </button>
            <button 
                class="filter-btn" 
                :class="{ active: filter === 'completed' }"
                @click="filter = 'completed'"
            >
                Terminées
            </button>
        </div>

        <div>
            <div 
                v-for="task in filteredTasks" 
                :key="task.id"
                class="task-card"
                :class="{ completed: task.completed }"
            >
                <h3>{{ task.title }}</h3>
                <p>{{ task.description }}</p>
                <p><strong>Statut :</strong> {{ task.completed ? 'Terminée' : 'À faire' }}</p>
                
                <button 
                    v-show="!task.completed"
                    @click="markAsCompleted(task.id)"
                    class="complete-btn"
                >
                    Marquer comme terminée
                </button>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    tasks: [
                        {
                            id: 1,
                            title: "Faire les courses",
                            description: "Acheter des légumes et du lait.",
                            completed: false
                        },
                        {
                            id: 2,
                            title: "Faire du sport",
                            description: "Courir pendant 30 minutes.",
                            completed: true
                        },
                        {
                            id: 3,
                            title: "Réviser pour l'examen",
                            description: "Relire le chapitre 5 du manuel.",
                            completed: false
                        }
                    ],
                    filter: 'all'
                };
            },
            computed: {
                filteredTasks() {
                    if (this.filter === 'completed') {
                        return this.tasks.filter(task => task.completed);
                    } else if (this.filter === 'todo') {
                        return this.tasks.filter(task => !task.completed);
                    }
                    return this.tasks;
                },
                totalTasks() {
                    return this.tasks.length;
                }
            },
            methods: {
                markAsCompleted(id) {
                    const task = this.tasks.find(t => t.id === id);
                    if (task) {
                        task.completed = true;
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>